{% extends "base.html" %}
{% load render_bundle from webpack_loader %}

{% block content %}
    <h1>{{object.title}} Details</h1>
    <div class="container">
    
    
    
    
    <div class="row"><div id='map' style='width: 400px; height: 300px;'></div></div>
    <div class="row"><div>{{object.title}}</div></div>
    <div class="row"><div>{{object.day}}</div></div>
    <div class="row"><div>{{object.time}}</div></div>
    <div class="row"><div>{{object.address}}</div></div>
    <div class="row"><div>{{object.postcode}}</div></div>
    <div class="row"><div>{{object.detail|linebreaks}}</div></div>
    <div class="row"><a href="https://citymapper.com/directions?endcoord={{object.lat}}%2C{{object.lng}}&endname={{object.title}}" target="_blank"><img src="https://static.citymapper.com/img/embed/GetMeThere_Citymapper.png" alt="Get directions with Citymapper" /></a></div>
    </div>
<script>
var lat = {{ object.lat }};
var lng = {{object.lng}};
console.log(lat);
mapboxgl.accessToken = 'pk.eyJ1IjoiY2hyaXN3ZWRnd29vZCIsImEiOiJjazJ3M2xyOGkwYXppM29xbGlreGxtZWk1In0.wB4JKWEScmQogF0I9aSNoA';
var map = new mapboxgl.Map({
container: 'map',
style: 'mapbox://styles/mapbox/streets-v11',
center:[lng,lat],
zoom: 14
});

var marker = new mapboxgl.Marker()
  .setLngLat([lng, lat])
  .addTo(map);
</script>
    </div>


{% endblock %}





 