{% extends "base.html" %}
{% load wagtailcore_tags %}
{% load render_bundle from webpack_loader %}

{% block body_class %}template-evebtpage{% endblock %}

{% block content %}
    <h1>{{ page.title }}</h1>
    <div class="container">
    <div class='row'><div class='col-md-6'><p>{{ page.body|richtext }}</p><p>Start Date  {{ page.start_date }}</p><p >End Date  {{ page.end_date }}</p>
    <p>{{page.address}}</p><p>{{ page.postcode }}</p>
     <p><a href="{{ page.get_parent.url }}">Return to events</a></p>
    </div>
    <div class="col-md-6" id='map' style='width: 400px; height: 300px;'></div></div>
     </div>


   

   
    </div></div>
<script>
var lat = {{ page.latitude }};
var lng = {{page.longitude}};
console.log(lat);
console.log(lng);

mapboxgl.accessToken = 'pk.eyJ1IjoiY2hyaXN3ZWRnd29vZCIsImEiOiJjazJ3M2xyOGkwYXppM29xbGlreGxtZWk1In0.wB4JKWEScmQogF0I9aSNoA';
var map = new mapboxgl.Map({
container: 'map',
style: 'mapbox://styles/mapbox/streets-v11',
center:[lng,lat],
zoom: 14
});

var marker = new mapboxgl.Marker()
  .setLngLat([lng, lat])
  .addTo(map);
</script>
{% endblock %}